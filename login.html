<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chatbot Bancaire IA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; font-family: "Segoe UI", sans-serif; }
    body {
      margin: 0;
      background: #0b0f1a;
      color: white;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    header {
      padding: 20px;
      background: #020617;
      font-size: 1.2em;
    }
    .chat-container {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    .message {
      max-width: 75%;
      padding: 15px;
      border-radius: 14px;
      margin-bottom: 15px;
    }
    .bot { background: #1e293b; }
    .user {
      background: #38bdf8;
      color: #020617;
      margin-left: auto;
    }
    .options button {
      display: block;
      width: 100%;
      margin-top: 8px;
      padding: 10px;
      background: #020617;
      color: white;
      border: 1px solid #38bdf8;
      border-radius: 10px;
      cursor: pointer;
    }
    .input-zone {
      display: flex;
      padding: 15px;
      background: #020617;
    }
    .input-zone input {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      border: none;
    }
    .input-zone button {
      margin-left: 10px;
      padding: 12px 18px;
      background: #38bdf8;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
  </style>
</head>

<body>

<header id="header"></header>

<div class="chat-container" id="chat"></div>

<div class="input-zone">
  <input id="input" placeholder="Ã‰crivez votre message...">
  <button onclick="send()">Envoyer</button>
</div>

<script>
const user = localStorage.getItem("user") || "Client";
document.getElementById("header").innerText =
  "ğŸ¦ Banque Digitale â€” Bonjour " + user;

const chat = document.getElementById("chat");

function bot(text) {
  const d = document.createElement("div");
  d.className = "message bot";
  d.innerHTML = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

function userMsg(text) {
  const d = document.createElement("div");
  d.className = "message user";
  d.innerText = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

function menu() {
  bot(`
    Comment puis-je vous aider ?
    <div class="options">
      <button onclick="card()">ğŸ’³ ProblÃ¨me de carte</button>
      <button onclick="transfer()">ğŸ’¸ Erreur de virement</button>
      <button onclick="account()">ğŸ“„ Informations de compte</button>
      <button onclick="login()">ğŸ” ProblÃ¨me de connexion</button>
      <button onclick="balance()">ğŸ“Š Solde & opÃ©rations</button>
      <button onclick="agency()">ğŸ¢ Agence & horaires</button>
      <button onclick="advisor()">ğŸ‘¨â€ğŸ’¼ Contacter un conseiller</button>
      <button onclick="other()">â“ Autre demande</button>
    </div>
  `);
}

/* FLOWS */
function card() {
  bot(`
    Quel est votre problÃ¨me de carte ?
    <div class="options">
      <button onclick="bot('Votre carte est temporairement bloquÃ©e. Un conseiller va vous contacter.');menu()">Carte bloquÃ©e</button>
      <button onclick="bot('Carte dÃ©clarÃ©e perdue. Opposition en cours.');menu()">Carte perdue</button>
      <button onclick="bot('Carte volÃ©e. SÃ©curitÃ© activÃ©e.');menu()">Carte volÃ©e</button>
    </div>
  `);
}

function transfer() {
  bot(`
    Erreur de virement :
    <div class="options">
      <button onclick="bot('Virement en attente de validation.');menu()">En attente</button>
      <button onclick="bot('Virement rejetÃ©. VÃ©rifiez le bÃ©nÃ©ficiaire.');menu()">RejetÃ©</button>
      <button onclick="bot('Virement en cours de traitement.');menu()">En cours</button>
    </div>
  `);
}

function account() {
  bot(`
    Informations de compte :
    <div class="options">
      <button onclick="bot('Votre RIB est disponible dans votre espace.');menu()">RIB</button>
      <button onclick="bot('Compte actif depuis 2022.');menu()">AnciennetÃ©</button>
    </div>
  `);
}

function login() {
  bot("Si vous avez oubliÃ© votre mot de passe, utilisez la rÃ©cupÃ©ration par email.");
  menu();
}

function balance() {
  bot("Votre solde et vos opÃ©rations sont disponibles dans votre espace client.");
  menu();
}

function agency() {
  bot("Nos agences sont ouvertes du lundi au vendredi de 9h Ã  17h.");
  menu();
}

function advisor() {
  bot("Un conseiller va vous contacter sous 24h.");
  menu();
}

function other() {
  bot("Merci de prÃ©ciser votre demande.");
  menu();
}

function send() {
  const input = document.getElementById("input");
  if (!input.value) return;
  userMsg(input.value);
  input.value = "";
  setTimeout(menu, 500);
}

/* START */
bot("Bonjour " + user + " ğŸ‘‹ Bienvenue sur votre assistant bancaire.");
menu();
</script>

<!-- TIDIO -->
<script src="//code.tidio.co/qvjapnpjojmjuw8ygtsqbgggbfbf8wxs.js" async></script>

</body>
</html>

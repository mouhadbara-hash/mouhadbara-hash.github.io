<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>WaveBank ‚Äì Assistant IA</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),
  url("https://images.unsplash.com/photo-1601597111158-2fceff292cdc");
  background-size:cover;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}

.chat-app{
  width:420px;
  height:640px;
  background:#fff;
  border-radius:18px;
  display:flex;
  flex-direction:column;
  box-shadow:0 20px 50px rgba(0,0,0,.4);
}

header{
  background:#000;
  color:#fff;
  padding:14px;
  text-align:center;
  font-weight:bold;
}

.messages{
  flex:1;
  padding:15px;
  overflow-y:auto;
}

.msg{
  max-width:80%;
  padding:10px 14px;
  margin-bottom:10px;
  border-radius:14px;
  font-size:14px;
}

.bot{
  background:#f1f1f1;
}

.user{
  background:#0a5cff;
  color:#fff;
  margin-left:auto;
}

.input-area{
  display:flex;
  padding:10px;
  border-top:1px solid #ddd;
}

input{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:1px solid #ccc;
  outline:none;
}

button{
  margin-left:8px;
  border:none;
  background:#0a5cff;
  color:#fff;
  padding:0 18px;
  border-radius:20px;
  cursor:pointer;
}

footer{
  text-align:center;
  font-size:12px;
  color:#777;
  padding:6px;
}
</style>
</head>

<body>

<div class="chat-app">
  <header>ü§ñ Assistant WaveBank</header>

  <div class="messages" id="messages"></div>

  <div class="input-area">
    <input id="userInput" placeholder="Posez votre question...">
    <button onclick="send()">‚û§</button>
  </div>

  <footer>Projet d‚Äô√©tude IA ‚Äì Mme In√®s BENHASSEN</footer>
</div>

<script>
const messages = document.getElementById("messages");
const clientName = localStorage.getItem("clientName") || "Client";

function bot(text){
  messages.innerHTML += `<div class="msg bot">${text}</div>`;
  messages.scrollTop = messages.scrollHeight;
}

function user(text){
  messages.innerHTML += `<div class="msg user">${text}</div>`;
  messages.scrollTop = messages.scrollHeight;
}

bot(`Bonjour <b>${clientName}</b> üëã<br>
Je suis l‚Äôassistant virtuel de WaveBank.<br>
Je peux vous aider pour des questions sur les virements, retraits, cartes ou informations g√©n√©rales.`);

function send(){
  const input = document.getElementById("userInput");
  const text = input.value.trim().toLowerCase();
  if(!text) return;

  user(input.value);
  input.value = "";

  setTimeout(()=>analyze(text),600);
}

function analyze(text){

  /* ===== VIREMENTS ===== */
  if(text.includes("virement")){
    if(text.includes("non") || text.includes("bloqu√©") || text.includes("√©chou√©")){
      bot("Je comprends. Un virement non effectu√© peut √™tre d√ª √† un solde insuffisant, une erreur de b√©n√©ficiaire ou un contr√¥le de s√©curit√©. Souhaitez-vous que je vous mette en relation avec un conseiller humain ?");
    }else{
      bot("Les virements WaveBank sont g√©n√©ralement instantan√©s. En cas de retard, une v√©rification humaine est recommand√©e.");
    }
    return;
  }

  /* ===== RETRAITS ===== */
  if(text.includes("retrait")){
    bot("Pour les retraits, assurez-vous que votre solde est suffisant et que votre compte n‚Äôest pas temporairement limit√©. Un agent peut v√©rifier votre situation si n√©cessaire.");
    return;
  }

  /* ===== CARTE ===== */
  if(text.includes("carte")){
    if(text.includes("bloqu√©e")){
      bot("Votre carte peut √™tre bloqu√©e pour des raisons de s√©curit√©. Pour votre protection, seul un conseiller humain peut la d√©bloquer apr√®s v√©rification.");
    }else{
      bot("Votre carte vous permet de payer et retirer facilement. En cas d‚Äôanomalie, un contr√¥le humain est indispensable.");
    }
    return;
  }

  /* ===== IA / PROJET ===== */
  if(text.includes("ia") || text.includes("intelligence")){
    bot("Je suis un assistant bas√© sur une intelligence artificielle simul√©e. Mon r√¥le est d‚Äôassister l‚Äôhumain, pas de le remplacer. Les d√©cisions finales reviennent toujours √† un agent humain.");
    return;
  }

  /* ===== HUMAIN ===== */
  if(text.includes("humain") || text.includes("conseiller")){
    bot("Un conseiller humain peut intervenir √† tout moment pour v√©rifier, valider ou corriger mes r√©ponses. L‚Äôhumain reste au centre des d√©cisions.");
    return;
  }

  /* ===== PAR D√âFAUT ===== */
  bot("Je n‚Äôai pas toutes les r√©ponses. Pour des raisons de fiabilit√© et d‚Äô√©thique, certaines d√©cisions doivent √™tre valid√©es par un humain. Pouvez-vous pr√©ciser votre demande ?");
}
</script>

</body>
</html>
